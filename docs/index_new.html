<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AMD Strix Halo — Multi-Run Benchmark Comparison</title>
    <link rel="stylesheet" href="assets/index2.css">
    <link rel="stylesheet" href="assets/index_new.css">
</head>

<body>
    <header>
        <h1>AMD Strix Halo — Multi-Run Benchmark Comparison</h1>
        <p>Compare benchmark results across multiple runs, systems, and configurations</p>
        <p id="run-count">Loading...</p>
        <div class="legend">
            <label>Legend</label>
            <div class="legend-pills">
                <button id="hipblas-modal-open" type="button" class="chip small legend-pill legend-pill-default">
                    hipBLASLt vs hblt0
                </button>
                <button id="rpc-modal-open" type="button" class="chip small legend-pill legend-pill-rpc">
                    RPC · dual server
                </button>
                <button id="rocwmma-modal-open" type="button" class="chip small legend-pill legend-pill-rocwmma">
                    rocWMMA
                </button>
            </div>
        </div>
    </header>

    <section class="controls">
        <div class="control">
            <label>Models</label>
            <div class="multiselect" id="model-select">
                <button type="button" class="multiselect-btn">
                    <span class="multiselect-label">All models</span>
                    <span class="multiselect-arrow">▼</span>
                </button>
                <div class="multiselect-dropdown hidden">
                    <input type="text" class="multiselect-search" placeholder="Search models...">
                    <div class="multiselect-actions">
                        <button type="button" class="multiselect-all">Select All</button>
                        <button type="button" class="multiselect-none">Clear</button>
                    </div>
                    <div class="multiselect-options"></div>
                </div>
            </div>
        </div>
        <div class="control">
            <label>Quant</label>
            <div class="multiselect" id="quant-select">
                <button type="button" class="multiselect-btn">
                    <span class="multiselect-label">All quants</span>
                    <span class="multiselect-arrow">▼</span>
                </button>
                <div class="multiselect-dropdown hidden">
                    <input type="text" class="multiselect-search" placeholder="Search quants...">
                    <div class="multiselect-actions">
                        <button type="button" class="multiselect-all">Select All</button>
                        <button type="button" class="multiselect-none">Clear</button>
                    </div>
                    <div class="multiselect-options"></div>
                </div>
            </div>
        </div>
        <div class="control">
            <label>Kernel</label>
            <div class="control-row">
                <div class="multiselect" id="kernel-select">
                    <button type="button" class="multiselect-btn">
                        <span class="multiselect-label">All kernels</span>
                        <span class="multiselect-arrow">▼</span>
                    </button>
                    <div class="multiselect-dropdown hidden">
                        <input type="text" class="multiselect-search" placeholder="Search kernels...">
                        <div class="multiselect-actions">
                            <button type="button" class="multiselect-all">Select All</button>
                            <button type="button" class="multiselect-none">Clear</button>
                        </div>
                        <div class="multiselect-options"></div>
                    </div>
                </div>
                <label class="inline-checkbox" title="Group results by kernel version">
                    <input type="checkbox" id="group-by-kernel">
                    <span>Group</span>
                </label>
            </div>
        </div>
        <div class="control">
            <label>Firmware</label>
            <div class="control-row">
                <div class="multiselect" id="firmware-select">
                    <button type="button" class="multiselect-btn">
                        <span class="multiselect-label">All firmware</span>
                        <span class="multiselect-arrow">▼</span>
                    </button>
                    <div class="multiselect-dropdown hidden">
                        <input type="text" class="multiselect-search" placeholder="Search firmware...">
                        <div class="multiselect-actions">
                            <button type="button" class="multiselect-all">Select All</button>
                            <button type="button" class="multiselect-none">Clear</button>
                        </div>
                        <div class="multiselect-options"></div>
                    </div>
                </div>
                <label class="inline-checkbox" title="Group results by firmware version">
                    <input type="checkbox" id="group-by-firmware">
                    <span>Group</span>
                </label>
            </div>
        </div>
        <div class="control">
            <label>Context</label>
            <div class="multiselect" id="context-select">
                <button type="button" class="multiselect-btn">
                    <span class="multiselect-label">Default window</span>
                    <span class="multiselect-arrow">&#9660;</span>
                </button>
                <div class="multiselect-dropdown hidden">
                    <div class="multiselect-options"></div>
                </div>
            </div>
        </div>
        <div class="control">
            <label>Runs</label>
            <div class="multiselect" id="run-select">
                <button type="button" class="multiselect-btn">
                    <span class="multiselect-label">All runs</span>
                    <span class="multiselect-arrow">&#9660;</span>
                </button>
                <div class="multiselect-dropdown hidden">
                    <input type="text" class="multiselect-search" placeholder="Search runs...">
                    <div class="multiselect-actions">
                        <button type="button" class="multiselect-all">Select All</button>
                        <button type="button" class="multiselect-none">Clear</button>
                    </div>
                    <div class="multiselect-options"></div>
                </div>
            </div>
        </div>
    </section>

    <section class="controls">
        <div class="control grow slider-block">
            <label>Model params (B)</label>
            <div class="range-wrap">
                <input type="range" id="sizeLo" step="1">
                <input type="range" id="sizeHi" step="1">
                <div class="range-track" id="sizeTrack"></div>
            </div>
            <div class="range-values">
                <span id="sizeLoVal">0B</span> – <span id="sizeHiVal">0B</span>
            </div>
        </div>
        <div class="control grow slider-block">
            <label>Run date range (UTC)</label>
            <div class="range-wrap">
                <input type="range" id="dateLo" step="86400">
                <input type="range" id="dateHi" step="86400">
                <div class="range-track" id="dateTrack"></div>
            </div>
            <div class="range-values">
                <span id="dateLoVal">—</span> – <span id="dateHiVal">—</span>
            </div>
        </div>
    </section>

    <section class="panel compact">
        <div class="panel-split">
            <div class="backend-header">
                <div class="backend-label">
                    <label>Backends</label>
                    <div class="backend-actions">
                        <button type="button" id="backend-all" class="chip small">All</button>
                        <button type="button" id="backend-none" class="chip small">None</button>
                    </div>
                </div>
                <div id="backend-list" class="backend-list"></div>
            </div>
            <div class="stats-box">
                <div class="stat-line" id="stats-line">Loading…</div>
                <button id="reset-layout" type="button" class="chip small">Reset filters</button>
            </div>
        </div>
    </section>

    <section class="panel compact" id="tables-panel">
        <div id="tables"></div>
    </section>

    <div id="hipblas-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="hipblas-title">
        <div class="modal-content">
            <button id="hipblas-modal-close" class="modal-close" aria-label="Close dialog">×</button>
            <h2 id="hipblas-title">hipBLASLt &amp; hblt0 explained</h2>
            <p>The ROCm toolboxes ship with <code>ROCBLAS_USE_HIPBLASLT=1</code> by default. This forces rocBLAS to
                prefer
                the hipBLASLt kernel library, which historically delivered the best throughput on gfx1151 (Strix Halo).
            </p>
            <p>Rows tagged with <code>__hblt0</code> were re-run with <code>ROCBLAS_USE_HIPBLASLT=0</code>, letting
                rocBLAS
                auto-select between hipBLASLt, Tensile, or other kernel providers. These runs show how performance
                shifts when
                the tuned hipBLASLt path is disabled.</p>
            <p>hipBLASLt is AMD's LT (low-level tuned) matmul backend, optimized for transformer workloads. Disabling it
                can
                expose regressions or improvements depending on driver versions, so both configurations are published
                for
                comparison.</p>
        </div>
    </div>

    <div id="rpc-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="rpc-title">
        <div class="modal-content">
            <button id="rpc-modal-close" class="modal-close" aria-label="Close dialog">×</button>
            <h2 id="rpc-title">RPC · dual server</h2>
            <p>These results were produced with two Strix Halo systems (Framework Desktop + HP G1a workstation, each
                128&nbsp;GB)
                connected over 5&nbsp;Gbps Ethernet. One runs <code>rpc-server</code> from llama.cpp; the other runs
                <code>llama-bench --rpc</code>.
            </p>
            <p>This setup allows distributed inference, splitting large GGUF models across both machines. The metric
                shows what
                you can expect when latency is limited by the network and the workload is balanced between two RPC
                participants.</p>
        </div>
    </div>

    <div id="rocwmma-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="rocwmma-title">
        <div class="modal-content">
            <button id="rocwmma-modal-close" class="modal-close" aria-label="Close dialog">×</button>
            <h2 id="rocwmma-title">rocWMMA variants</h2>
            <p>Backends labeled <code>-rocwmma</code> are rebuilt with AMD's rocWMMA library, which unlocks matrix
                multiply
                pipelines accelerated via wave matrix multiply-accumulate (WMMA) instructions.</p>
            <p>rocWMMA kernels can significantly accelerate BF16/F16 workloads on RDNA3 but may trade stability or
                memory
                usage; comparing plain toolboxes against <code>-rocwmma</code> ones highlights the benefit or cost.</p>
        </div>
    </div>

    <div id="rocwmma-impr-modal" class="modal hidden" role="dialog" aria-modal="true"
        aria-labelledby="rocwmma-impr-title">
        <div class="modal-content">
            <button id="rocwmma-impr-modal-close" class="modal-close" aria-label="Close dialog">×</button>
            <h2 id="rocwmma-impr-title">rocWMMA-improved builds</h2>
            <p>Toolboxes tagged <code>-rocwmma-improved</code> bake in an experimental llama.cpp patch that retunes
                rocWMMA
                kernels for long-context throughput on Strix Halo.</p>
            <p>Patch reference: <a
                    href="https://github.com/hjc4869/llama.cpp/commit/12bb5c371bd3c647ef75e8e13de9e311edba604d"
                    target="_blank" rel="noreferrer">12bb5c371bd3</a>. These builds often run faster for 32k+ contexts,
                but
                the changes are not upstream and may be unstable.</p>
        </div>
    </div>

    <script src="results_new.jsonl.js"></script>
    <script src="assets/index_new.js"></script>
</body>

</html>
